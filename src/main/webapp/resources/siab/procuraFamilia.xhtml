<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:composite="http://java.sun.com/jsf/composite"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:f="http://java.sun.com/jsf/core">
	
	

<composite:interface>
	<composite:attribute name="options"></composite:attribute>
	<composite:attribute name="classe"></composite:attribute>
	<composite:attribute name="disabled" default="false"></composite:attribute>
	<composite:facet name="buttons"></composite:facet>
	<composite:facet name="voltar"></composite:facet>
</composite:interface>

<composite:implementation>

	<h:form id="form" class="form-horizontal">
	

			<div class="control-group">	    
			    <label class="control-label">Código</label>
			    <div class="controls">
			    	<h:inputText id="codigo" styleClass="form-control" value="#{cc.attrs.options.codigo}" p:placeholder="Código da Família"></h:inputText>
			    </div>
		  	</div> 

	  	
		  	<div class="control-group">	    
			    <label class="control-label">Agente</label>
			    <div class="controls">
			    	<h:selectOneMenu id="acs" styleClass="form-control"	value="#{cc.attrs.classe.acsMatricula}">
						<f:selectItem itemLabel="Selecione um ACS" itemValue="#{null}" />
						<f:selectItems value="#{cc.attrs.classe.agentes}" var="agente"	itemLabel="#{agente.nome}" itemValue="#{agente.matricula}"></f:selectItems>
						<f:ajax process="@this" render="endereco" />
					</h:selectOneMenu>
			    </div>
		  	</div> 
	  	
		  	<div class="control-group">	    
			    <label class="control-label">Endereço</label>
			    <div class="controls">
			    	<h:selectOneMenu id="endereco" styleClass="form-control"	value="#{cc.attrs.classe.enderecoFamilia}">
						<f:selectItem itemLabel="Selecione um Endereço" itemValue="#{null}" />
						<f:selectItems value="#{cc.attrs.classe.enderecos}" var="endereco"	itemLabel="#{endereco.rua}" itemValue="#{endereco.cep}"></f:selectItems>
						<f:ajax process="@this" render="acs" />
					</h:selectOneMenu>
			    </div>
		  	</div> 


	<div class="control-group">	 
		<div class="controls">
			<composite:renderFacet name="buttons"></composite:renderFacet>
			<composite:renderFacet name="voltar"></composite:renderFacet>
		</div>
	</div>

	</h:form>

</composite:implementation>
</html>