<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:composite="http://java.sun.com/jsf/composite"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:f="http://java.sun.com/jsf/core">
	
	

<composite:interface>
	<composite:attribute name="pessoa"></composite:attribute>
	<composite:attribute name="classe"></composite:attribute>
	<composite:attribute name="disabled" default="false"></composite:attribute>
	<composite:facet name="buttons"></composite:facet>
	<composite:facet name="voltar"></composite:facet>
</composite:interface>

<composite:implementation>

	<h:form id="form" class="form-horizontal">
		<div class="box-content">
			<div class="row-fluid">
				<div class="span6">
					<div class="control-group">	    
					    <label class="control-label">Família</label>
					    <div class="controls">
					    	<h:selectOneMenu id="familia" styleClass="form-control"	value="#{cc.attrs.classe.familiaPessoa}" disabled="#{cc.attrs.disabled}">
								<f:selectItem itemLabel="Selecione a Família" itemValue="#{null}" />
								<f:selectItems value="#{cc.attrs.classe.familias}" var="familia"	itemLabel="#{familia.numeroFamilia}" itemValue="#{familia.numeroFamilia}"></f:selectItems>
								<f:ajax process="@this" render="familia" />
							</h:selectOneMenu>
					    </div>
				  	</div> 	
			  
				  	<div class="control-group">	  			
					    <label class="control-label">SUS</label>
					    <div class="controls">
					    	<h:inputText id="sus" styleClass="form-control"	value="#{cc.attrs.pessoa.sus}" disabled="#{cc.attrs.disabled}" p:placeholder="Número do Cartão SUS"></h:inputText>
					    </div>
				  	</div>
				  	
				  	<div class="control-group">	  			
					    <label class="control-label">Nome</label>
					    <div class="controls">
					    	<h:inputText id="nome" styleClass="form-control" value="#{cc.attrs.pessoa.nome}" disabled="#{cc.attrs.disabled}" p:placeholder="Nome"></h:inputText>
					    </div>
				  	</div>
				  	
				  	<div class="control-group">	  			
					    <label class="control-label">Nome da Mãe</label>
					    <div class="controls">
					    	<h:inputText id="mae" styleClass="form-control" value="#{cc.attrs.pessoa.mae}" disabled="#{cc.attrs.disabled}" p:placeholder="Nome da mãe"></h:inputText>
					    </div>
				  	</div>
				  	
			  		<div class="control-group">	  			
					    	<label class="control-label">Data de Nascimento</label>
					    <div class="controls">
							<h:inputText type="date" name="datepicker" id="datepicker" class='datepick' value="#{cc.attrs.classe.calculaIdade}">
								<f:convertDateTime timeZone="GMT-3" locale="pt_BR" pattern="dd/MM/yyyy" type="date" />
								<f:ajax process="@this" render="idade" />
							</h:inputText>
					    </div>
				  	</div>
				  				  	
				  	<div class="control-group">	  			
					    <label class="control-label">Idade</label>
					    <div class="controls">
					    	<h:inputText id="idade" styleClass="form-control" value="#{cc.attrs.pessoa.idade}" p:placeholder="Idade"></h:inputText>
					    </div>
				  	</div>
				  	
				  	<div class="control-group">	  			
					    <label class="control-label">Sexo</label>
					    <div class="controls">
					    	<h:selectOneRadio id="sexo" value="#{cc.attrs.classe.sexoPessoa}">
							   <f:selectItem itemValue='m' itemLabel="Masculino" />
							   <f:selectItem itemValue='f' itemLabel="Feminino" />   			
							</h:selectOneRadio>
					    </div>
				  	</div>
	  			</div>
	  			
	  			<div class="span6">
				  	<div class="control-group">	  			
					    <label class="control-label">Raça</label>
					    <div class="controls">
					    	<h:selectOneMenu id="raca" styleClass="form-control"	value="#{cc.attrs.classe.racaPessoa}">
								<f:selectItem itemLabel="Selecione a Raça" itemValue="#{null}" />
								<f:selectItems value="#{cc.attrs.classe.racas}" var="raca"	itemLabel="#{raca.nome}" itemValue="#{raca.codigo}"></f:selectItems>
								<f:ajax process="@this" render="raca" />
							</h:selectOneMenu>
					    </div>
				  	</div>
				  	
				  	<div class="control-group">	  			
					    <label class="control-label">Frequenta a Escola?</label>
					    <div class="controls">
					    	<h:selectOneRadio id="fescola" value="#{cc.attrs.classe.frequentaEscola}">
							   <f:selectItem itemValue="1" itemLabel="Sim" />
							   <f:selectItem itemValue="0" itemLabel="Não" />
							   <f:ajax process="@this" render="fescola" />	   			
							</h:selectOneRadio>
					    </div>
				  	</div>
				  	
				  	<div class="control-group">	  			
					    <label class="control-label">Escolaridade</label>
					    <div class="controls">
					    	<h:selectOneMenu id="escolaridade" styleClass="form-control"	value="#{cc.attrs.classe.escolaridadePessoa}">
								<f:selectItem itemLabel="Selecione a Escolaridade" itemValue="#{null}" />
								<f:selectItems value="#{cc.attrs.classe.escolaridades}" var="escolaridade"	itemLabel="#{escolaridade.nome}" itemValue="#{escolaridade.codigo}"></f:selectItems>
								<f:ajax process="@this" render="escolaridade" />
							</h:selectOneMenu>
					    </div>
				  	</div>
				  	
				  	<div class="control-group">	  			
					    <label class="control-label">Vínculo Empregatício</label>
					    <div class="controls">
					    	<h:selectOneMenu id="vinculo" styleClass="form-control"	value="#{cc.attrs.classe.vinculoPessoa}">
								<f:selectItem itemLabel="Selecione o Vínculo Empregatício" itemValue="#{null}" />
								<f:selectItems value="#{cc.attrs.classe.vinculos}" var="vinculo"	itemLabel="#{vinculo.nome}" itemValue="#{vinculo.codigo}"></f:selectItems>
								<f:ajax process="@this" render="vinculo" />
							</h:selectOneMenu>
					    </div>
				  	</div>
				  	
				  	<div class="control-group">	  			
					    <label class="control-label">Parentesco</label>
					    <div class="controls">
					    	<h:inputText id="parentesco" styleClass="form-control" value="#{cc.attrs.pessoa.parentesco}" disabled="#{cc.attrs.disabled}" p:placeholder="O que você é do chefe da Família?"></h:inputText>
					    </div>
				  	</div>
				  	
				  	<div class="control-group">	  			
					    <label class="control-label">Bolsa-Escola</label>
					    <div class="controls">
					    	<h:selectOneRadio id="bolsaEsc" value="#{cc.attrs.classe.bolsaEscola}">
							   <f:selectItem itemValue="1" itemLabel="Sim" />
							   <f:selectItem itemValue="0" itemLabel="Não" />
							   <f:ajax process="@this" render="bolsaEsc" />	   			
							</h:selectOneRadio>
					    </div>
				  	</div>
				  	
				  	<div class="control-group">	  			
					    <label class="control-label">Doenças</label>	
					    <div class="controls">
					    	<h:selectManyMenu value="#{cc.attrs.classe.doencasPessoa}" id="doencas" class='cho span6' multiple="true">
								<f:selectItems value="#{cc.attrs.classe.doencas}" var="doenca" itemLabel="#{doenca.nome}" itemValue="#{doenca.sigla}"></f:selectItems>
							</h:selectManyMenu>
					    </div>
				  	</div>
	  			</div>
	  		</div>
	  	</div>

	  	<div class="control-group">	 
			<div class="controls">
				<composite:renderFacet name="buttons"></composite:renderFacet>
				<composite:renderFacet name="voltar"></composite:renderFacet>
			</div>
		</div>
			
	</h:form>

</composite:implementation>
</html>